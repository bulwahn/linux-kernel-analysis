From c4d37eb526e09c0b27941d1bd1000569b17ef794 Mon Sep 17 00:00:00 2001
From: Lukas Bulwahn <lukas.bulwahn@gmail.com>
Date: Wed, 5 Jun 2019 08:38:36 +0200
Subject: [PATCH 092/171] [wip] net/netlink/genetlink: annotate

---
 net/netlink/genetlink.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/net/netlink/genetlink.c b/net/netlink/genetlink.c
index 0ae04f17b72f..59083de5eb74 100644
--- a/net/netlink/genetlink.c
+++ b/net/netlink/genetlink.c
@@ -501,7 +501,7 @@ static int genl_lock_done(struct netlink_callback *cb)
 static int genl_family_rcv_msg(const struct genl_family *family,
 			       struct sk_buff *skb,
 			       struct nlmsghdr *nlh,
-			       struct netlink_ext_ack *extack)
+			       struct netlink_ext_ack *extack) __requires_conditionally(genl_mutex)
 {
 	const struct genl_ops *ops;
 	struct net *net = sock_net(skb->sk);
-- 
2.17.1

